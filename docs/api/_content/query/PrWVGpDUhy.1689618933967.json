{"_path":"/fundamentals/middleware-plugins","_dir":"fundamentals","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Middleware Plugins","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"middleware-plugins-in-riotblossom"},"children":[{"type":"text","value":"Middleware Plugins in RiotBlossom"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"RiotBlossom uses pluggable middleware as part of the HTTP request-response cycle. Creating a middleware plugin requires implementing from any of the following interfaces:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRequestMiddleware"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponseMiddleware"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRetryMiddleware"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As part of the HTTP request-response lifecycle:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Before the request is sent (request information goes through request middleware "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRequestMiddleware[]"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"On request (request function reference is passed to single retry middleware "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRetryMiddleware"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"After the response is received (response information goes through response middleware "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponseMiddleware[]"}]},{"type":"text","value":")"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Knowing this lifecycle, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MiddlewareStack"}]},{"type":"text","value":" is the system composition of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRequestMiddleware[]"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IRetryMiddleware"}]},{"type":"text","value":", and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"IResponseMiddleware[]"}]},{"type":"text","value":".\nA middleware stack is encapsulated to the APIs it is assigned to."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"RiotBlossom client builder currently does the following:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddRiotMiddlewareStack"}]},{"type":"text","value":" - the Riot middleware stack for Riot APIs"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AddDataMiddlewareStack"}]},{"type":"text","value":" - the Data middleware stack for CommunityDragon and DataDragon APIs"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Each request processed under the Riot "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MiddlewareStack"}]},{"type":"text","value":" is asynchronously locked per routing value to maintain data synchronization."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Having separate middleware systems offers more user configuration and flexibility in doing thingies. As an example, Riot "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"MiddlewareStack"}]},{"type":"text","value":" is created with an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"AlgorithmicLimiter"}]},{"type":"text","value":" whereas Data `MiddlewareStack`` does not."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Hopefully, the system design was straightforward to understand..."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"anime-cirno","src":"https://user-images.githubusercontent.com/87099578/232343424-3aabac5a-5e96-41d6-a1a4-3968952146f3.gif"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"sub","props":{},"children":[{"type":"element","tag":"sup","props":{},"children":[{"type":"text","value":"if I had lost you, I am very sorry..."}]}]}]},{"type":"element","tag":"h2","props":{"id":"request-interface"},"children":[{"type":"text","value":"Request interface"}]},{"type":"element","tag":"code","props":{"code":"public interface IRequestMiddleware\n{\n    Task UseRequestAsync(ExecuteInfo info, HttpRequestMessage req, Action next, Action<byte[]> hit);\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"IRequestMiddleware\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Task"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"UseRequestAsync"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"ExecuteInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"info"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"HttpRequestMessage"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"req"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Action"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"next"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Action"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"byte"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"[]> "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"hit"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"info"}]},{"type":"text","value":", routing information of request"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"req"}]},{"type":"text","value":", the raw HTTP request message"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"next"}]},{"type":"text","value":", action to invoke for continuing to the next request middleware. Not invoking will end the request middleware chain."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hit"}]},{"type":"text","value":", action to invoke for sending cached data"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example plugins:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AlgorithmicLimiter"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"InMemoryCache"}]}]},{"type":"element","tag":"h2","props":{"id":"response-interface"},"children":[{"type":"text","value":"Response interface"}]},{"type":"element","tag":"code","props":{"code":"public interface IResponseMiddleware\n{\n    Task UseResponseAsync(ExecuteInfo info, HttpResponseMessage res, Action next);\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"IResponseMiddleware\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Task"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"UseResponseAsync"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"ExecuteInfo"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"info"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"HttpResponseMessage"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"res"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Action"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"next"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"info"}]},{"type":"text","value":", routing information of request"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"res"}]},{"type":"text","value":", the raw HTTP response message"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"next"}]},{"type":"text","value":", action to invoke for continuing to the next response middleware. Not invoking will end the response middleware chain."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example plugins:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"AlgorithmicLimiter"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"InMemoryCache"}]}]},{"type":"element","tag":"h2","props":{"id":"retry-interface"},"children":[{"type":"text","value":"Retry interface"}]},{"type":"element","tag":"code","props":{"code":"public interface IRetryMiddleware\n{\n    Task<HttpResponseMessage> UseRetryAsync(Func<Task<HttpResponseMessage>> resFunc);\n}\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"IRetryMiddleware\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Task"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"HttpResponseMessage"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"UseRetryAsync"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Func"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Task"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"HttpResponseMessage"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":">> "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"resFunc"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"resFunc"}]},{"type":"text","value":", function to invoke for receiving an HTTP response"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example plugins:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Retryer"}]}]},{"type":"element","tag":"h2","props":{"id":"out-of-the-box-middleware-plugins"},"children":[{"type":"text","value":"Out-of-the-box Middleware Plugins"}]},{"type":"element","tag":"h3","props":{"id":"algorithmiclimiter"},"children":[{"type":"text","value":"AlgorithmicLimiter"}]},{"type":"element","tag":"code","props":{"code":"AlgorithmicLimiter limiter = new(new()\n{\n    CanThrowOn429 = true,\n    CanThrowOnLimit = true,\n    ShaperType = LimiterShaper.Burst\n});\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"AlgorithmicLimiter"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"limiter"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    CanThrowOn429 "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-749373"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    CanThrowOnLimit "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-749373"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    ShaperType "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" LimiterShaper.Burst\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"});"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"More documentation can be found in the "},{"type":"element","tag":"a","props":{"href":"https://github.com/BlossomiShymae/RiotBlossom/blob/master/BlossomiShymae.RiotBlossom/Middleware/AlgorithmicLimiter.cs","rel":["nofollow"]},"children":[{"type":"text","value":"AlgorithmicLimiter"}]},{"type":"text","value":"\nclass."}]},{"type":"element","tag":"h3","props":{"id":"inmemorycache"},"children":[{"type":"text","value":"InMemoryCache"}]},{"type":"element","tag":"code","props":{"code":"InMemoryCache riotCache = new(\"rb-riot-cache\");\nInMemoryCache dataCache = new(\"rb-data-cache\")\n{\n    Expiration = TimeSpan.FromHours(24),\n    Size = 10000\n};\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"InMemoryCache"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"riotCache"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-70326b"},"children":[{"type":"text","value":"\"rb-riot-cache\""}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"InMemoryCache"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"dataCache"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-70326b"},"children":[{"type":"text","value":"\"rb-data-cache\""}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    Expiration "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" TimeSpan."}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"FromHours"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-749373"},"children":[{"type":"text","value":"24"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    Size "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-749373"},"children":[{"type":"text","value":"10000\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"};"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"More documentation can be found in the "},{"type":"element","tag":"a","props":{"href":"https://github.com/BlossomiShymae/RiotBlossom/blob/master/BlossomiShymae.RiotBlossom/Middleware/InMemoryCache.cs","rel":["nofollow"]},"children":[{"type":"text","value":"InMemoryCache"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"h3","props":{"id":"retryer"},"children":[{"type":"text","value":"Retryer"}]},{"type":"element","tag":"code","props":{"code":"Retryer retryer = new()\n{\n    CanThrowOn429 = true,\n    RetryCount = 10,\n    RetryDelay = TimeSpan.FromSeconds(10d)\n};\n","language":"csharp","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"Retryer"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-787ae0"},"children":[{"type":"text","value":"retryer"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    CanThrowOn429 "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-749373"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    RetryCount "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-749373"},"children":[{"type":"text","value":"10"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"    RetryDelay "}]},{"type":"element","tag":"span","props":{"class":"ct-067091"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":" TimeSpan."}]},{"type":"element","tag":"span","props":{"class":"ct-d92327"},"children":[{"type":"text","value":"FromSeconds"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-749373"},"children":[{"type":"text","value":"10d"}]},{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-228653"},"children":[{"type":"text","value":"};"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"More documentation can be found in the "},{"type":"element","tag":"a","props":{"href":"https://github.com/BlossomiShymae/RiotBlossom/blob/master/BlossomiShymae.RiotBlossom/Middleware/Retryer.cs","rel":["nofollow"]},"children":[{"type":"text","value":"Retryer"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-70326b{color:#0A3069}\n.ct-749373{color:#0550AE}\n.ct-d92327{color:#8250DF}\n.ct-787ae0{color:#953800}\n.ct-228653{color:#24292F}\n.ct-067091{color:#CF222E}\n.dark .ct-067091{color:#FF7B72}\n.dark .ct-228653{color:#C9D1D9}\n.dark .ct-787ae0{color:#FFA657}\n.dark .ct-d92327{color:#D2A8FF}\n.dark .ct-749373{color:#79C0FF}\n.dark .ct-70326b{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"request-interface","depth":2,"text":"Request interface"},{"id":"response-interface","depth":2,"text":"Response interface"},{"id":"retry-interface","depth":2,"text":"Retry interface"},{"id":"out-of-the-box-middleware-plugins","depth":2,"text":"Out-of-the-box Middleware Plugins","children":[{"id":"algorithmiclimiter","depth":3,"text":"AlgorithmicLimiter"},{"id":"inmemorycache","depth":3,"text":"InMemoryCache"},{"id":"retryer","depth":3,"text":"Retryer"}]}]}},"_type":"markdown","_id":"content:4.fundamentals:1.middleware-plugins.md","_source":"content","_file":"4.fundamentals/1.middleware-plugins.md","_extension":"md"}